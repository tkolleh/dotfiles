return {
    "linrongbin16/gitlinker.nvim",
    cmd = "GitLink",
    opts = function(_, opts)
      local routers = require("gitlinker.routers")
      return vim.tbl_deep_extend("force", opts or {}, {
        router = {
          browse = {
            ["{{ (index (onepassword "p3zimt7otz5dfe64qtfzxgl3jm").fields 0).value }}"] = routers.github_browse,
          },
          blame = {
            ["{{ (index (onepassword "p3zimt7otz5dfe64qtfzxgl3jm").fields 0).value }}"] = routers.github_blame,
          },
          default_branch = {
            ["{{ (index (onepassword "p3zimt7otz5dfe64qtfzxgl3jm").fields 0).value }}"] = routers.github_default_branch,
          },
          current_branch = {
            ["{{ (index (onepassword "p3zimt7otz5dfe64qtfzxgl3jm").fields 0).value }}"] = routers.github_current_branch,
          },
        },
      })
    end,
    keys = {
      { "<leader>gy", "<cmd>GitLink<cr>", mode = { "n", "v" }, desc = "Yank git link" },
      { "<leader>gY", "<cmd>GitLink!<cr>", mode = { "n", "v" }, desc = "Open git link" },
    },
}
